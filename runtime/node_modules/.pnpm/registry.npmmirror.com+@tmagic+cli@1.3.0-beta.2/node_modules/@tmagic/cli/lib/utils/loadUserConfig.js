"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.loadUserConfig = exports.loadUserConfigCjs = exports.hasExportDefault = exports.isPlainObject = void 0;
const isPlainObject = (val) => Object.prototype.toString.call(val) === '[object Object]';
exports.isPlainObject = isPlainObject;
/**
 * Check if a module is esm with `export default`
 */
const hasExportDefault = (mod) => (0, exports.isPlainObject)(mod) && !!mod.__esModule && Object.prototype.hasOwnProperty.call(mod, 'default');
exports.hasExportDefault = hasExportDefault;
const loadUserConfigCjs = async (userConfigPath) => {
    const required = require(userConfigPath);
    return (0, exports.hasExportDefault)(required) ? required.default : required;
};
exports.loadUserConfigCjs = loadUserConfigCjs;
const loaderMap = [[/\.(js|cjs|ts)$/, exports.loadUserConfigCjs]];
const loadUserConfig = async (userConfigPath) => {
    if (!userConfigPath)
        return {};
    for (const [condition, loader] of loaderMap) {
        if (condition.test(userConfigPath)) {
            return loader(userConfigPath);
        }
    }
    return {};
};
exports.loadUserConfig = loadUserConfig;
//# sourceMappingURL=loadUserConfig.js.map